<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<div class="container">
  <!--  Barra superior -->
  <header class="topbar">
    <div class="topbar-left">
      <button class="toggle-btn" (click)="toggleSidebar()">
        <i class="fas fa-bars"></i>
      </button>
      <img src="assets/Logo_lestoma.jpg" alt="Logo" class="topbar-logo" />
    </div>

    <div class="topbar-center">
      <h1>BIENVENIDOS LESTOMA</h1>
    </div>
  </header>

  <!--  Barra lateral -->
  <div class="sidebar" [class.collapsed]="isCollapsed">
    <ul class="menu">
      <li>
        <a routerLink="/inicio">
          <i class="fas fa-home"></i><span *ngIf="!isCollapsed">Inicio</span>
        </a>
      </li>

      <li>
        <a routerLink="/gestion-dispositivos">
          <i class="fas fa-network-wired"></i><span *ngIf="!isCollapsed">Gesti贸n de Dispositivos</span>
        </a>
      </li>

      <!--  Submen煤 -->
      <li class="submenu" [class.open]="submenuOpen === 'dispositivos'">
        <a href="javascript:void(0)" (click)="toggleSubmenu('dispositivos')">
          <i class="fas fa-microchip"></i>
          <span *ngIf="!isCollapsed">Dispositivos</span>
          <i class="fas fa-chevron-down flecha" *ngIf="!isCollapsed"></i>
        </a>

        <ul class="submenu-list" *ngIf="submenuOpen === 'dispositivos' && !isCollapsed">
          <li>
            <a routerLink="/sensores">
              <i class="fas fa-thermometer-half"></i><span>Sensores</span>
            </a>
          </li>
          <li>
            <a routerLink="/actuadores">
              <i class="fas fa-cogs"></i><span>Actuadores</span>
            </a>
          </li>
        </ul>
      </li>

      <li>
        <a routerLink="/checklist">
          <i class="fas fa-clipboard-list"></i><span *ngIf="!isCollapsed">CheckList</span>
        </a>
      </li>

      <li>
        <a routerLink="/auditoria">
          <i class="fas fa-search"></i><span *ngIf="!isCollapsed">Auditor铆as</span>
        </a>
      </li>

      <li class="notificaciones" (mouseenter)="mostrarPanel = true" (mouseleave)="mostrarPanel = false" [class.new]="hayNotificacionNueva"> <a routerLink="/notificaciones"> <i class="fas fa-bell"></i><span *ngIf="!isCollapsed">Notificaciones</span> </a> <span class="badge" *ngIf="hayNotificacionNueva"></span> </li> 

      <li>
        <a routerLink="/sugerencias">
          <i class="fas fa-lightbulb"></i><span *ngIf="!isCollapsed">Sugerencias</span>
        </a>
      </li> 
    </ul>

    <!--  Pie con logos y textos -->
    <div class="sidebar-footer" *ngIf="!isCollapsed">
      <img src="assets/logo_GISTFA.jpg" alt="Logo 1" class="footer-logo" />
      <img src="assets/escudo.png" alt="Logo 2" class="footer-logo" />
      <p class="footer-text">
        <strong>Grupo de investigaci贸n GISTFA</strong><br>
        Semillero de investigaci贸n SERFAC<br><br>
        <span class="director">Director:</span><br>
        Jaime Eduardo Andrade Ram铆rez<br><br>
        <span class="equipo">Equipo de desarrolladores:</span><br>
        Jorge Ivan Salazar Gomez<br>
        David Ricardo Contreras Espinoza
      </p>
    </div>

    <button class="logout" (click)="logout()">
      <i class="fas fa-sign-out-alt"></i>
      <span *ngIf="!isCollapsed">Cerrar sesi贸n</span>
    </button>
  </div>

  <!--  Contenido principal -->
  <div class="content" [class.collapsed-content]="isCollapsed">
    <router-outlet></router-outlet>
  </div>
</div>
