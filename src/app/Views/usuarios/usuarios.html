<h2 class="titulo">Lista de Usuarios</h2>

<table class="tabla">
  <thead>
    <tr>
      <th>N°</th>
      <th>Rol</th>
      <th>Cédula</th>
      <th>Nombre</th>
      <th>Correo</th>
      <th>Clave</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let u of usuarios; let i = index" (click)="seleccionar(u)" [class.seleccionado]="u === usuarioSeleccionado">
      <td>{{ i + 1 }}</td>
      <td>{{ u.rol }}</td>
      <td>{{ u.cedula }}</td>
      <td>{{ u.nombre }}</td>
      <td>{{ u.correo }}</td>
      <td>{{ u.clave }}</td>
    </tr>
  </tbody>
</table>

<div class="acciones" *ngIf="usuarioSeleccionado">
  <button (click)="abrirModal('editar')">✏️ Modificar</button>
  <button (click)="eliminar()">🗑️ Eliminar</button>
</div>

<div class="agregar">
  <button (click)="abrirModal('agregar')">➕ Agregar Usuario</button>
</div>

<!-- Modal -->
<div class="modal" *ngIf="mostrarModal">
  <div class="modal-content">
    <h3>{{ modoModal === 'agregar' ? 'Agregar Usuario' : 'Editar Usuario' }}</h3>

    <input [(ngModel)]="formulario.rol" placeholder="Rol">
    <input [(ngModel)]="formulario.cedula" placeholder="Cédula">
    <input [(ngModel)]="formulario.nombre" placeholder="Nombre">
    <input [(ngModel)]="formulario.correo" placeholder="Correo">
    <input [(ngModel)]="formulario.clave" placeholder="Clave">

    <div class="modal-actions">
      <button (click)="guardar()">💾 Guardar</button>
      <button (click)="cerrarModal()">❌ Cancelar</button>
    </div>
  </div>
</div>
