<h2 class="titulo">AuditorÃ­a</h2>

<table class="tabla">
  <thead>
    <tr>
      <th>NÂ°</th>
      <th>Usuario</th>
      <th>Dispositivo</th>
      <th>AcciÃ³n</th>
      <th>Fecha</th>
      <th>ObservaciÃ³n</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let a of auditorias; let i = index" (click)="seleccionar(a)" [class.seleccionado]="a === auditoriaSeleccionada">
      <td>{{ i + 1 }}</td>
      <td>{{ a.usuario }}</td>
      <td>{{ a.dispositivo }}</td>
      <td>{{ a.accion }}</td>
      <td>{{ a.fecha }}</td>
      <td>{{ a.observacion }}</td>
    </tr>
  </tbody>
</table>

<div class="acciones" *ngIf="auditoriaSeleccionada">
  <button (click)="abrirModal('editar')">âœï¸ Modificar</button>
  <button (click)="eliminar()">ğŸ—‘ï¸ Eliminar</button>
</div>

<div class="agregar">
  <button (click)="abrirModal('agregar')">â• Agregar AuditorÃ­a</button>
</div>

<!-- Modal -->
<div class="modal" *ngIf="mostrarModal">
  <div class="modal-content">
    <h3>{{ modoModal === 'agregar' ? 'Agregar AuditorÃ­a' : 'Editar AuditorÃ­a' }}</h3>
    
    <input [(ngModel)]="formulario.usuario" placeholder="Usuario">
    <input [(ngModel)]="formulario.dispositivo" placeholder="Dispositivo">
    <input [(ngModel)]="formulario.accion" placeholder="AcciÃ³n">
    <input [(ngModel)]="formulario.fecha" placeholder="Fecha (YYYY-MM-DD)">
    <input [(ngModel)]="formulario.observacion" placeholder="ObservaciÃ³n">
    
    <div class="modal-actions">
      <button (click)="guardar()">ğŸ’¾ Guardar</button>
      <button (click)="cerrarModal()">âŒ Cancelar</button>
    </div>
  </div>
</div>
